#!/bin/bash

# Get the C file name from the $CFILE environment variable
c_file="$CFILE"

# Generate the output file name by replacing the .c extension with .s
output_file="${c_file%.c}.s"

# Use gcc to compile the C file and generate the assembly code with -S option
gcc -S -masm=intel "$c_file" -o "$output_file" > /dev/null 2>&1

# Check if the compilation was successful
if [ $? -eq 0 ]; then
  echo "Assembly code generated successfully. Output file: $output_file"
else
  echo "Error generating assembly code."
fi

